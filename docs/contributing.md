# ê¸°ì—¬ ê°€ì´ë“œ (Contributing Guide)

ì´ í”„ë¡œì íŠ¸ì— ê´€ì‹¬ì„ ê°€ì ¸ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ì—¬ëŸ¬ë¶„ì˜ ê¸°ì—¬ê°€ í”„ë¡œì íŠ¸ë¥¼ ë” ë‚«ê²Œ ë§Œë“­ë‹ˆë‹¤.
ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ëŠ” ë°©ë²•, ì½”ë“œ í’ˆì§ˆ ê¸°ì¤€, ê·¸ë¦¬ê³  ì»¤ë°‹ ê·œì¹™ ë“±ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ¤ ê¸°ì—¬ ì›Œí¬í”Œë¡œìš° (Contribution Workflow)

### 1. Fork & Clone

```bash
# 1. GitHubì—ì„œ ì €ì¥ì†Œ Fork

# 2. Forkí•œ ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/YOUR_USERNAME/python-template.git
cd python-template

# 3. ì›ë³¸ ì €ì¥ì†Œë¥¼ upstreamìœ¼ë¡œ ì¶”ê°€
git remote add upstream https://github.com/ORIGINAL_OWNER/python-template.git
```

### 2. ê°œë°œ í™˜ê²½ ì„¤ì •

```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
uv sync

# 2. Pre-commit ì„¤ì¹˜
uv run pre-commit install

# 3. í™˜ê²½ í™•ì¸
uv run pytest
```

### 3. ë¸Œëœì¹˜ ìƒì„±

```bash
# feature ë¸Œëœì¹˜ ìƒì„±
git checkout -b feat/your-feature-name

# bugfix ë¸Œëœì¹˜ ìƒì„±
git checkout -b fix/your-bug-fix
```

**ë¸Œëœì¹˜ ëª…ëª… ê·œì¹™:**
- `feat/ê¸°ëŠ¥ëª…`: ìƒˆë¡œìš´ ê¸°ëŠ¥
- `fix/ë²„ê·¸ëª…`: ë²„ê·¸ ìˆ˜ì •
- `refactor/ë¦¬íŒ©í† ë§ëª…`: ë¦¬íŒ©í† ë§
- `docs/ë¬¸ì„œëª…`: ë¬¸ì„œ ìˆ˜ì •
- `test/í…ŒìŠ¤íŠ¸ëª…`: í…ŒìŠ¤íŠ¸ ì¶”ê°€

### 4. ê°œë°œ ë° í…ŒìŠ¤íŠ¸

```bash
# 1. ì½”ë“œ ì‘ì„±

# 2. í…ŒìŠ¤íŠ¸ ì‘ì„± (TDD ê¶Œì¥)
# tests/ ë””ë ‰í† ë¦¬ì— í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„±

# 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
uv run pytest

# 4. ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
uv run ruff check .
uv run mypy .
uv run interrogate -vv app/

# 5. ì»¤ë²„ë¦¬ì§€ í™•ì¸
uv run pytest --cov
```

### 5. ì»¤ë°‹ ë° í‘¸ì‹œ

ì´ í”„ë¡œì íŠ¸ëŠ” [Conventional Commits](https://www.conventionalcommits.org/) í˜•ì‹ì„ ë”°ë¦…ë‹ˆë‹¤.

```bash
# 1. ë³€ê²½ì‚¬í•­ ìŠ¤í…Œì´ì§•
git add .

# 2. ì»¤ë°‹ (pre-commit ìë™ ì‹¤í–‰)
git commit -m "feat : ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€"

# 3. upstream ìµœì‹  ë³€ê²½ì‚¬í•­ ê°€ì ¸ì˜¤ê¸°
git fetch upstream
git rebase upstream/main

# 4. Forkí•œ ì €ì¥ì†Œì— í‘¸ì‹œ
git push origin feat/your-feature-name
```

### 6. Pull Request ìƒì„±

1. GitHubì—ì„œ Forkí•œ ì €ì¥ì†Œë¡œ ì´ë™
2. "Compare & pull request" ë²„íŠ¼ í´ë¦­
3. PR í…œí”Œë¦¿ì— ë”°ë¼ ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”.

**PR ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì½”ë“œ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ
- [ ] ë¬¸ì„œí™”ìœ¨ 90% ì´ìƒ
- [ ] Pre-commit í›… í†µê³¼
- [ ] íƒ€ì… ì²´í¬ í†µê³¼
- [ ] ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ ì¤€ìˆ˜

## ğŸ“ Git ì»¤ë°‹ ì»¨ë²¤ì…˜ (Commit Convention)

`.gitmessage` íŒŒì¼ì— ì •ì˜ëœ ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.

### ë©”ì‹œì§€ í˜•ì‹
```text
<type> : <subject>

<body (optional)>

<footer> (optional)
```

### íƒ€ì… (Type) ëª©ë¡
| íƒ€ì… | ì„¤ëª… |
|------|------|
| `feat` | ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ |
| `fix` | ë²„ê·¸ ìˆ˜ì • |
| `refactor` | ì½”ë“œ ë¦¬íŒ©í† ë§ (ê¸°ëŠ¥ ë³€ê²½ ì—†ìŒ) |
| `style` | ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½ ë“± (ë¡œì§ ë³€ê²½ ì—†ìŒ) |
| `docs` | ë¬¸ì„œ ìˆ˜ì • |
| `test` | í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì • |
| `chore` | ë¹Œë“œ, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì • |
| `build` | ë¹Œë“œ ì‹œìŠ¤í…œ ìˆ˜ì • |
| `ci` | CI/CD ì„¤ì • ìˆ˜ì • |
| `release` | ë²„ì „ ë¦´ë¦¬ì¦ˆ |

### ì‘ì„± ê·œì¹™
- **Subject**: 50ì ì´ë‚´, ëª…í™•í•œ ë³€ê²½ ì‚¬í•­ ìš”ì•½, ë§ˆì¹¨í‘œ(.) ê¸ˆì§€, ëª…ë ¹ë¬¸ ì‚¬ìš©
- **Body**: 72ìë§ˆë‹¤ ì¤„ë°”ê¿ˆ, "ë¬´ì—‡ì„", "ì™œ" ë³€ê²½í–ˆëŠ”ì§€ ì„¤ëª…

## âš™ï¸ ì½”ë“œ í’ˆì§ˆ ê¸°ì¤€ (Quality Standards)

ëª¨ë“  ì½”ë“œëŠ” ë‹¤ìŒ ê¸°ì¤€ì„ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤.

| í•­ëª© | ê¸°ì¤€ | ë„êµ¬ | ë¹„ê³  |
|------|------|------|------|
| **ë¬¸ì„œí™”ìœ¨** | â‰¥ 90% | Interrogate | Google ìŠ¤íƒ€ì¼ docstring |
| **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€** | â‰¥ 80% | Coverage | `__init__.py` ì œì™¸ |
| **ë³µì¡ë„** | â‰¤ 10 | McCabe (Ruff) | í•¨ìˆ˜ë‹¹ ìˆœí™˜ ë³µì¡ë„ |
| **íƒ€ì… ì²´í¬** | Strict | Mypy | ëª¨ë“  í•¨ìˆ˜ì— íƒ€ì… íŒíŠ¸ |
| **ë¼ì¸ ê¸¸ì´** | â‰¤ 120 | Ruff | í•œ ì¤„ ìµœëŒ€ ê¸¸ì´ |
| **ë³´ì•ˆ ê²€ì‚¬** | í†µê³¼ | Bandit (Ruff) | ë³´ì•ˆ ì·¨ì•½ì  ì—†ìŒ |

## ğŸ’¡ ê°œë°œ íŒ (Development Tips)

**ë¡œì»¬ ê°œë°œ ì‹œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´:**
```bash
# ì „ì²´ í’ˆì§ˆ ê²€ì‚¬ (ì»¤ë°‹ ì „ ì‹¤í–‰ ê¶Œì¥)
uv run pre-commit run --all-files && uv run pytest --cov

# ë³€ê²½ëœ íŒŒì¼ë§Œ ë¹ ë¥´ê²Œ ê²€ì‚¬
uv run ruff check --fix .

# í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ë””ë²„ê·¸ ëª¨ë“œ
uv run pytest -vv --pdb

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ë°˜ë³µ ì‹¤í–‰
uv run pytest tests/unit/test_user.py -k test_create_user -vv
```

### ë¬¸ì œ í•´ê²°

1. **Pre-commitì´ ë„ˆë¬´ ëŠë¦´ ë•Œ:**
   ```bash
   # íŠ¹ì • í›…ë§Œ ë¹„í™œì„±í™” (ì„ì‹œ)
   SKIP=mypy git commit -m "message"
   ```

2. **íƒ€ì… ì²´í¬ ì˜¤ë¥˜ê°€ ë§ì„ ë•Œ:**
   ```bash
   # ì ì§„ì ìœ¼ë¡œ íƒ€ì… íŒíŠ¸ ì¶”ê°€
   # type: ignore ì£¼ì„ ì‚¬ìš© (ìµœì†Œí™”)
   result = some_function()  # type: ignore[return-value]
   ```

3. **ë¬¸ì„œí™”ìœ¨ì´ ë¶€ì¡±í•  ë•Œ:**
   ```bash
   # ë¶€ì¡±í•œ ë¶€ë¶„ í™•ì¸
   uv run interrogate -vv app/
   ```
